# Installation instructions for Verilator

## Setting up new debootstrap and chroot into it

Run the following if you wish to isolate the verilator build
from other software (reproducible builds) or use the schroot
auto-preparation script here:
<https://git.libre-soc.org/?p=dev-env-setup.git;a=blob;f=mk-deb-chroot;hb=HEAD>

    export MY_CHROOT=/stable-chroot
    mkdir $MY_CHROOT
    debootstrap stable $MY_CHROOT http://deb.debian.org/debian/
    mount -t proc proc $MY_CHROOT/proc
    mount -t sysfs sysfs $MY_CHROOT/sys
    mount -t devpts devpts $MY_CHROOT/dev/pts/
    chroot $MY_CHROOT /bin/bash

## Steps to compile Verilator

### Necessary software to install

    apt-get install git
    apt-get install python3 make autoconf g++ flex bison ccache \
                    numactl libgoogle-perftools-dev perl-doc \
                    zlibc zlib1g-dev
    git clone https://github.com/verilator/verilator

### Build Verilator

    cd verilator
    git checkout v4.106
    autoconf
    ./configure --prefix=/usr/local/verilator
    make -j$(nproc)
    make install

Please adjust the install paths for verilator.

