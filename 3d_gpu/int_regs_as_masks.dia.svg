<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.0//EN" "http://www.w3.org/TR/2001/PR-SVG-20010719/DTD/svg10.dtd">
<svg width="52cm" height="59cm" viewBox="22 -1 1039 1162" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
  <defs/>
  <g id="Background">
    <text font-size="12.7998" style="fill: #000000; fill-opacity: 1; stroke: none;text-anchor:start;font-family:sans-serif;font-style:normal;font-weight:normal" x="342" y="191.425">
      <tspan x="342" y="191.425">Mask Buses</tspan>
      <tspan x="342" y="207.425">8 separate 1-bit buses</tspan>
    </text>
    <polyline style="fill: none; stroke-opacity: 1; stroke-width: 2; stroke: #000000" points="340,420 340,270 340,270 340,120 "/>
    <rect style="fill: #ffffff; fill-opacity: 1; stroke-opacity: 1; stroke-width: 2; stroke: #000000" x="260" y="0" width="160" height="120" rx="0" ry="0"/>
    <text font-size="12.7998" style="fill: #000000; fill-opacity: 1; stroke: none;text-anchor:middle;font-family:sans-serif;font-style:normal;font-weight:normal" x="340" y="11.9">
      <tspan x="340" y="11.9">Mask Registers</tspan>
      <tspan x="340" y="27.9">2x64-bits</tspan>
    </text>
    <rect style="fill: #ffffff; fill-opacity: 1; stroke-opacity: 1; stroke-width: 2; stroke: #000000" x="580" y="0" width="160" height="120" rx="0" ry="0"/>
    <text font-size="12.7998" style="fill: #000000; fill-opacity: 1; stroke: none;text-anchor:middle;font-family:sans-serif;font-style:normal;font-weight:normal" x="660" y="60">
      <tspan x="660" y="60">Int Registers</tspan>
      <tspan x="660" y="76">126x64-bits</tspan>
    </text>
    <text font-size="12.7998" style="fill: #000000; fill-opacity: 1; stroke: none;text-anchor:middle;font-family:sans-serif;font-style:normal;font-weight:normal" x="340" y="100.202">
      <tspan x="340" y="100.202">R and W ports</tspan>
      <tspan x="340" y="116.202">reg[a[4:]][16*b+a[0:4]]</tspan>
    </text>
    <g>
      <polygon style="fill: none; stroke-opacity: 1; stroke-width: 2; stroke: #000000" points="540,160 620,160 600,200 560,200 "/>
      <text font-size="12.7998" style="fill: #000000; fill-opacity: 1; stroke: none;text-anchor:middle;font-family:sans-serif;font-style:normal;font-weight:normal" x="580" y="184">
        <tspan x="580" y="184"></tspan>
      </text>
    </g>
    <polyline style="fill: none; stroke-opacity: 1; stroke-width: 2; stroke: #000000" points="420,60 420,60 560,60 560,160 "/>
    <polyline style="fill: none; stroke-opacity: 1; stroke-width: 2; stroke: #000000" points="660,120 660,140 600,140 600,160 "/>
    <text font-size="12.7998" style="fill: #000000; fill-opacity: 1; stroke: none;text-anchor:end;font-family:sans-serif;font-style:normal;font-weight:normal" x="420" y="56.2381">
      <tspan x="420" y="56.2381">R and W ports</tspan>
      <tspan x="420" y="72.2381">reg[addr][0:64]</tspan>
    </text>
    <path style="fill: #ffffff; fill-opacity: 1; stroke-opacity: 1; stroke-width: 2; stroke: #000000" fill-rule="evenodd" d="M 800 400 C 886.667,400 973.333,400 1060,400 C 1060,466.667 1060,533.333 1060,600 C 973.333,600 886.667,600 800,600 C 800,560 800,560 800,520 C 800,480 800,480 800,440 C 800,420 800,420 800,400z"/>
    <text font-size="12.7998" style="fill: #000000; fill-opacity: 1; stroke: none;text-anchor:middle;font-family:sans-serif;font-style:normal;font-weight:normal" x="930" y="504.238">
      <tspan x="930" y="504.238">Integer ALU/FUs</tspan>
    </text>
    <g>
      <polygon style="fill: none; stroke-opacity: 1; stroke-width: 2; stroke: #000000" points="380,400 500,420 500,460 380,480 "/>
      <text font-size="12.7998" style="fill: #000000; fill-opacity: 1; stroke: none;text-anchor:middle;font-family:sans-serif;font-style:normal;font-weight:normal" x="440" y="436">
        <tspan x="440" y="436">Expand to</tspan>
        <tspan x="440" y="452">byte-level masks</tspan>
      </text>
    </g>
    <ellipse style="fill: #000000; fill-opacity: 1; stroke-opacity: 1; stroke-width: 2; stroke: #000000" cx="340" cy="420" rx="5" ry="5"/>
    <polyline style="fill: none; stroke-opacity: 1; stroke-width: 2; stroke: #000000" points="380,420 360,420 360,420 340,420 "/>
    <polyline style="fill: none; stroke-opacity: 1; stroke-width: 2; stroke: #000000" points="500,440 800,440 800,440 "/>
    <text font-size="12.7998" style="fill: #000000; fill-opacity: 1; stroke: none;text-anchor:middle;font-family:sans-serif;font-style:normal;font-weight:normal" x="490" y="56.95">
      <tspan x="490" y="56.95">Data Buses</tspan>
    </text>
    <text font-size="12.7998" style="fill: #000000; fill-opacity: 1; stroke: none;text-anchor:start;font-family:sans-serif;font-style:normal;font-weight:normal" x="582" y="274.425">
      <tspan x="582" y="274.425">Data Buses</tspan>
    </text>
    <polyline style="fill: none; stroke-opacity: 1; stroke-width: 2; stroke: #000000" points="580,200 580,340 580,340 580,480 "/>
    <ellipse style="fill: #000000; fill-opacity: 1; stroke-opacity: 1; stroke-width: 2; stroke: #000000" cx="580" cy="480" rx="5" ry="5"/>
    <polyline style="fill: none; stroke-opacity: 1; stroke-width: 2; stroke: #000000" points="580,520 580,520 800,520 800,520 "/>
    <polyline style="fill: none; stroke-opacity: 1; stroke-width: 2; stroke: #000000" points="580,480 580,480 800,480 800,480 "/>
    <text font-size="12.7998" style="fill: #000000; fill-opacity: 1; stroke: none;text-anchor:start;font-family:sans-serif;font-style:normal;font-weight:normal" x="802" y="444.425">
      <tspan x="802" y="444.425">Mask</tspan>
    </text>
    <text font-size="12.7998" style="fill: #000000; fill-opacity: 1; stroke: none;text-anchor:start;font-family:sans-serif;font-style:normal;font-weight:normal" x="802" y="484.425">
      <tspan x="802" y="484.425">A</tspan>
    </text>
    <text font-size="12.7998" style="fill: #000000; fill-opacity: 1; stroke: none;text-anchor:start;font-family:sans-serif;font-style:normal;font-weight:normal" x="802" y="524.425">
      <tspan x="802" y="524.425">B</tspan>
    </text>
    <ellipse style="fill: #000000; fill-opacity: 1; stroke-opacity: 1; stroke-width: 2; stroke: #000000" cx="580" cy="520" rx="5" ry="5"/>
    <polyline style="fill: none; stroke-opacity: 1; stroke-width: 2; stroke: #000000" points="580,480 580,499 580,499 580,520 "/>
    <path style="fill: #ffffff; fill-opacity: 1; stroke-opacity: 1; stroke-width: 2; stroke: #000000" fill-rule="evenodd" d="M 800 680 C 886.667,680 973.333,680 1060,680 C 1060,746.667 1060,813.333 1060,880 C 973.333,880 886.667,880 800,880 C 800,840 800,840 800,800 C 800,760 800,760 800,720 C 800,700 800,700 800,680z"/>
    <text font-size="12.7998" style="fill: #000000; fill-opacity: 1; stroke: none;text-anchor:middle;font-family:sans-serif;font-style:normal;font-weight:normal" x="930" y="784.238">
      <tspan x="930" y="784.238">Vector Compare ALU/FUs</tspan>
    </text>
    <g>
      <polygon style="fill: none; stroke-opacity: 1; stroke-width: 2; stroke: #000000" points="380,680 500,700 500,740 380,760 "/>
      <text font-size="12.7998" style="fill: #000000; fill-opacity: 1; stroke: none;text-anchor:middle;font-family:sans-serif;font-style:normal;font-weight:normal" x="440" y="716">
        <tspan x="440" y="716">Expand to</tspan>
        <tspan x="440" y="732">byte-level masks</tspan>
      </text>
    </g>
    <ellipse style="fill: #000000; fill-opacity: 1; stroke-opacity: 1; stroke-width: 2; stroke: #000000" cx="340" cy="700" rx="5" ry="5"/>
    <polyline style="fill: none; stroke-opacity: 1; stroke-width: 2; stroke: #000000" points="380,700 360,700 360,700 340,700 "/>
    <polyline style="fill: none; stroke-opacity: 1; stroke-width: 2; stroke: #000000" points="500,720 800,720 800,720 "/>
    <ellipse style="fill: #000000; fill-opacity: 1; stroke-opacity: 1; stroke-width: 2; stroke: #000000" cx="580" cy="760" rx="5" ry="5"/>
    <polyline style="fill: none; stroke-opacity: 1; stroke-width: 2; stroke: #000000" points="580,760 580,800 800,800 800,800 "/>
    <polyline style="fill: none; stroke-opacity: 1; stroke-width: 2; stroke: #000000" points="580,760 580,760 800,760 800,760 "/>
    <text font-size="12.7998" style="fill: #000000; fill-opacity: 1; stroke: none;text-anchor:start;font-family:sans-serif;font-style:normal;font-weight:normal" x="802" y="724.425">
      <tspan x="802" y="724.425">Mask</tspan>
    </text>
    <text font-size="12.7998" style="fill: #000000; fill-opacity: 1; stroke: none;text-anchor:start;font-family:sans-serif;font-style:normal;font-weight:normal" x="802" y="764.425">
      <tspan x="802" y="764.425">A</tspan>
    </text>
    <text font-size="12.7998" style="fill: #000000; fill-opacity: 1; stroke: none;text-anchor:start;font-family:sans-serif;font-style:normal;font-weight:normal" x="802" y="804.425">
      <tspan x="802" y="804.425">B</tspan>
    </text>
    <polyline style="fill: none; stroke-opacity: 1; stroke-width: 2; stroke: #000000" points="580,560 580,620 580,620 580,760 "/>
    <polyline style="fill: none; stroke-opacity: 1; stroke-width: 2; stroke: #000000" points="340,420 340,441 340,441 340,700 "/>
    <path style="fill: #ffffff; fill-opacity: 1; stroke-opacity: 1; stroke-width: 2; stroke: #000000" fill-rule="evenodd" d="M 800 960 C 886.667,960 973.333,960 1060,960 C 1060,1026.67 1060,1093.33 1060,1160 C 973.333,1160 886.667,1160 800,1160 C 800,1120 800,1120 800,1080 C 800,1040 800,1040 800,1000 C 800,980 800,980 800,960z"/>
    <text font-size="12.7998" style="fill: #000000; fill-opacity: 1; stroke: none;text-anchor:middle;font-family:sans-serif;font-style:normal;font-weight:normal" x="930" y="1048.24">
      <tspan x="930" y="1048.24">Mask ALU/FUs</tspan>
      <tspan x="930" y="1064.24">(scalar and/or/andc/etc.</tspan>
      <tspan x="930" y="1080.24">on mask regs)</tspan>
    </text>
    <text font-size="12.7998" style="fill: #000000; fill-opacity: 1; stroke: none;text-anchor:start;font-family:sans-serif;font-style:normal;font-weight:normal" x="802" y="1044.42">
      <tspan x="802" y="1044.42">A</tspan>
    </text>
    <text font-size="12.7998" style="fill: #000000; fill-opacity: 1; stroke: none;text-anchor:start;font-family:sans-serif;font-style:normal;font-weight:normal" x="802" y="1084.42">
      <tspan x="802" y="1084.42">B</tspan>
    </text>
    <text font-size="12.7998" style="fill: #000000; fill-opacity: 1; stroke: none;text-anchor:start;font-family:sans-serif;font-style:normal;font-weight:normal" x="802" y="564.425">
      <tspan x="802" y="564.425">Result</tspan>
    </text>
    <text font-size="12.7998" style="fill: #000000; fill-opacity: 1; stroke: none;text-anchor:start;font-family:sans-serif;font-style:normal;font-weight:normal" x="802" y="844.425">
      <tspan x="802" y="844.425">Result</tspan>
    </text>
    <text font-size="12.7998" style="fill: #000000; fill-opacity: 1; stroke: none;text-anchor:start;font-family:sans-serif;font-style:normal;font-weight:normal" x="802" y="1124.42">
      <tspan x="802" y="1124.42">Result</tspan>
    </text>
    <ellipse style="fill: #000000; fill-opacity: 1; stroke-opacity: 1; stroke-width: 2; stroke: #000000" cx="340" cy="1040" rx="5" ry="5"/>
    <ellipse style="fill: #000000; fill-opacity: 1; stroke-opacity: 1; stroke-width: 2; stroke: #000000" cx="340" cy="1080" rx="5" ry="5"/>
    <polyline style="fill: none; stroke-opacity: 1; stroke-width: 2; stroke: #000000" points="800,1120 340,1120 340,1080 340,1080 "/>
    <polyline style="fill: none; stroke-opacity: 1; stroke-width: 2; stroke: #000000" points="340,1080 340,1080 800,1080 800,1080 "/>
    <polyline style="fill: none; stroke-opacity: 1; stroke-width: 2; stroke: #000000" points="340,1040 340,1040 800,1040 800,1040 "/>
    <polyline style="fill: none; stroke-opacity: 1; stroke-width: 2; stroke: #000000" points="340,700 340,719 340,719 340,840 "/>
    <polyline style="fill: none; stroke-opacity: 1; stroke-width: 2; stroke: #000000" points="340,1040 340,1058 340,1058 340,1080 "/>
    <polyline style="fill: none; stroke-opacity: 1; stroke-width: 2; stroke: #000000" points="800,840 570,840 570,840 340,840 "/>
    <ellipse style="fill: #000000; fill-opacity: 1; stroke-opacity: 1; stroke-width: 2; stroke: #000000" cx="340" cy="840" rx="5" ry="5"/>
    <polyline style="fill: none; stroke-opacity: 1; stroke-width: 2; stroke: #000000" points="340,840 340,861 340,861 340,1040 "/>
    <ellipse style="fill: #000000; fill-opacity: 1; stroke-opacity: 1; stroke-width: 2; stroke: #000000" cx="580" cy="560" rx="5" ry="5"/>
    <polyline style="fill: none; stroke-opacity: 1; stroke-width: 2; stroke: #000000" points="800,560 690,560 690,560 580,560 "/>
    <polyline style="fill: none; stroke-opacity: 1; stroke-width: 2; stroke: #000000" points="580,520 580,538 580,538 580,560 "/>
    <text font-size="12.7998" style="fill: #000000; fill-opacity: 1; stroke: none;text-anchor:end;font-family:sans-serif;font-style:normal;font-weight:normal" x="320" y="151.9">
      <tspan x="320" y="151.9">Mask registers are tracked by the dependency</tspan>
      <tspan x="320" y="167.9">matrix at the level of different `a` values,</tspan>
      <tspan x="320" y="183.9">different `b` values are treated as</tspan>
      <tspan x="320" y="199.9">belonging to the same register.</tspan>
    </text>
  </g>
</svg>
